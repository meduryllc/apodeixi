(function(e){function t(t){for(var r,a,s=t[0],c=t[1],u=t[2],l=0,p=[];l<s.length;l++)a=s[l],Object.prototype.hasOwnProperty.call(o,a)&&o[a]&&p.push(o[a][0]),o[a]=0;for(r in c)Object.prototype.hasOwnProperty.call(c,r)&&(e[r]=c[r]);d&&d(t);while(p.length)p.shift()();return i.push.apply(i,u||[]),n()}function n(){for(var e,t=0;t<i.length;t++){for(var n=i[t],r=!0,a=1;a<n.length;a++){var c=n[a];0!==o[c]&&(r=!1)}r&&(i.splice(t--,1),e=s(s.s=n[0]))}return e}var r={},o={app:0},i=[];function a(e){return s.p+"js/"+({}[e]||e)+"."+{"chunk-2d216214":"ec1e34d4","chunk-2d216257":"ec5de94c","chunk-2e33e92e":"28e4d55d"}[e]+".js"}function s(t){if(r[t])return r[t].exports;var n=r[t]={i:t,l:!1,exports:{}};return e[t].call(n.exports,n,n.exports,s),n.l=!0,n.exports}s.e=function(e){var t=[],n=o[e];if(0!==n)if(n)t.push(n[2]);else{var r=new Promise((function(t,r){n=o[e]=[t,r]}));t.push(n[2]=r);var i,c=document.createElement("script");c.charset="utf-8",c.timeout=120,s.nc&&c.setAttribute("nonce",s.nc),c.src=a(e);var u=new Error;i=function(t){c.onerror=c.onload=null,clearTimeout(l);var n=o[e];if(0!==n){if(n){var r=t&&("load"===t.type?"missing":t.type),i=t&&t.target&&t.target.src;u.message="Loading chunk "+e+" failed.\n("+r+": "+i+")",u.name="ChunkLoadError",u.type=r,u.request=i,n[1](u)}o[e]=void 0}};var l=setTimeout((function(){i({type:"timeout",target:c})}),12e4);c.onerror=c.onload=i,document.head.appendChild(c)}return Promise.all(t)},s.m=e,s.c=r,s.d=function(e,t,n){s.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:n})},s.r=function(e){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},s.t=function(e,t){if(1&t&&(e=s(e)),8&t)return e;if(4&t&&"object"===typeof e&&e&&e.__esModule)return e;var n=Object.create(null);if(s.r(n),Object.defineProperty(n,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var r in e)s.d(n,r,function(t){return e[t]}.bind(null,r));return n},s.n=function(e){var t=e&&e.__esModule?function(){return e["default"]}:function(){return e};return s.d(t,"a",t),t},s.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},s.p="/apodeixi/",s.oe=function(e){throw console.error(e),e};var c=window["webpackJsonp"]=window["webpackJsonp"]||[],u=c.push.bind(c);c.push=t,c=c.slice();for(var l=0;l<c.length;l++)t(c[l]);var d=u;i.push([0,"chunk-vendors"]),n()})({0:function(e,t,n){e.exports=n("56d7")},1:function(e,t){},10:function(e,t){},"1b26":function(e,t,n){"use strict";var r=n("a1e9"),o=n.n(r);o.a},"1e4b":function(e,t,n){},2:function(e,t){},"23ee":function(e,t,n){},"243c":function(e,t,n){},"2eaa":function(e,t,n){"use strict";var r=n("e825"),o=n.n(r);o.a},3:function(e,t){},3860:function(e,t,n){e.exports=n.p+"img/individual.2ba4706b.png"},"38bb":function(e,t,n){},4:function(e,t){},5:function(e,t){},"56d7":function(e,t,n){"use strict";n.r(t);n("744f"),n("6c7b"),n("7514"),n("20d6"),n("1c4c"),n("6762"),n("cadf"),n("e804"),n("55dd"),n("d04f"),n("c8ce"),n("217b"),n("7f7f"),n("f400"),n("7f25"),n("536b"),n("d9ab"),n("f9ab"),n("32d7"),n("25c9"),n("9f3c"),n("042e"),n("c7c6"),n("f4ff"),n("049f"),n("7872"),n("a69f"),n("0b21"),n("6c1a"),n("c7c62"),n("84b4"),n("c5f6"),n("2e37"),n("fca0"),n("7cdf"),n("ee1d"),n("b1b1"),n("87f3"),n("9278"),n("5df2"),n("04ff"),n("f751"),n("4504"),n("fee7"),n("ffc1"),n("0d6d"),n("9986"),n("8e6e"),n("25db"),n("e4f7"),n("b9a1"),n("64d5"),n("9aea"),n("db97"),n("66c8"),n("57f0"),n("165b"),n("456d"),n("cf6a"),n("fd24"),n("8615"),n("551c"),n("097d"),n("df1b"),n("2397"),n("88ca"),n("ba16"),n("d185"),n("ebde"),n("2d34"),n("f6b3"),n("2251"),n("c698"),n("a19f"),n("9253"),n("9275"),n("3b2b"),n("3846"),n("4917"),n("a481"),n("28a5"),n("386d"),n("6b54"),n("4f7f"),n("8a81"),n("ac4d"),n("8449"),n("9c86"),n("fa83"),n("48c0"),n("a032"),n("aef6"),n("d263"),n("6c37"),n("9ec8"),n("5695"),n("2fdb"),n("d0b0"),n("5df3"),n("b54a"),n("f5766"),n("ed50"),n("788d"),n("14b9"),n("f386"),n("f559"),n("1448"),n("673e"),n("242a"),n("c66f"),n("b05c"),n("34ef"),n("6aa2"),n("15ac"),n("af56"),n("b6e4"),n("9c29"),n("63d9"),n("4dda"),n("10ad"),n("c02b"),n("4795"),n("130f"),n("ac6a"),n("96cf");var r=n("2b0e"),o=n("ce5b"),i=n.n(o);n("bf40");r["default"].use(i.a,{iconfont:"mdi"});var a=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("v-app",[n("app-top-bar"),n("v-content",{attrs:{transition:"slide-x-transition"}},[n("router-view")],1)],1)},s=[],c=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("span",[n("v-toolbar",{attrs:{app:"",variant:"info",color:"blue",dark:""}},[n("h1",{staticClass:"text-center",attrs:{color:"black"},on:{click:function(t){return e.home()}}},[e._v(e._s(e.appTitle))]),n("v-spacer",{staticClass:"hidden-md-and-up"}),n("v-spacer"),"worker"===e.$store.state.identity?n("v-btn",{on:{click:function(t){return e.initiated()}}},[e._v("Initiated")]):e._e(),"individual"===e.$store.state.identity?n("v-btn",{on:{click:function(t){return e.request()}}},[e._v("Request")]):e._e(),"individual"===e.$store.state.identity?n("v-btn",{on:{click:function(t){return e.view()}}},[e._v("Present")]):e._e(),e.$store.state.loggedIn?n("v-btn",{on:{click:function(t){return e.handleLogout()}}},[e._v("Logout")]):e._e()],1)],1)},u=[],l=n("a34a"),d=n.n(l);function p(e,t,n,r,o,i,a){try{var s=e[i](a),c=s.value}catch(u){return void n(u)}s.done?t(c):Promise.resolve(c).then(r,o)}function f(e){return function(){var t=this,n=arguments;return new Promise((function(r,o){var i=e.apply(t,n);function a(e){p(i,r,o,a,s,"next",e)}function s(e){p(i,r,o,a,s,"throw",e)}a(void 0)}))}}var h={name:"AppTopBar",data:function(){return{appTitle:"Apodeixi"}},methods:{handleLogout:function(){var e=f(d.a.mark((function e(){return d.a.wrap((function(e){while(1)switch(e.prev=e.next){case 0:this.$store.commit("loginStatus",!1),this.$store.commit("Identity",""),this.$router.push("/");case 3:case"end":return e.stop()}}),e,this)})));function t(){return e.apply(this,arguments)}return t}(),home:function(){var e=f(d.a.mark((function e(){return d.a.wrap((function(e){while(1)switch(e.prev=e.next){case 0:this.$router.push("/");case 1:case"end":return e.stop()}}),e,this)})));function t(){return e.apply(this,arguments)}return t}(),initiated:function(){var e=f(d.a.mark((function e(){return d.a.wrap((function(e){while(1)switch(e.prev=e.next){case 0:this.$router.push("pending");case 1:case"end":return e.stop()}}),e,this)})));function t(){return e.apply(this,arguments)}return t}(),pending:function(){var e=f(d.a.mark((function e(){return d.a.wrap((function(e){while(1)switch(e.prev=e.next){case 0:this.$router.push("requests");case 1:case"end":return e.stop()}}),e,this)})));function t(){return e.apply(this,arguments)}return t}(),request:function(){var e=f(d.a.mark((function e(){return d.a.wrap((function(e){while(1)switch(e.prev=e.next){case 0:this.$router.push("request");case 1:case"end":return e.stop()}}),e,this)})));function t(){return e.apply(this,arguments)}return t}(),view:function(){var e=f(d.a.mark((function e(){return d.a.wrap((function(e){while(1)switch(e.prev=e.next){case 0:this.$router.push("present");case 1:case"end":return e.stop()}}),e,this)})));function t(){return e.apply(this,arguments)}return t}()}},v=h,m=(n("6e02"),n("2877")),y=Object(m["a"])(v,c,u,!1,null,"427da8f0",null),b=y.exports,w={name:"App",components:{AppTopBar:b}},x=w,g=Object(m["a"])(x,a,s,!1,null,null,null),k=g.exports,_=n("8c4f"),S=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("v-container",[n("v-layout",{staticClass:"text-xs-center",attrs:{row:""}},[n("v-container",{staticClass:"text-xs-center",staticStyle:{position:"relative",top:"13%"}},[n("h1",[e._v("Get a DID")]),n("hr"),n("pre",[n("p",{attrs:{id:"colorRed"}},[e._v("Could not process the details")])]),n("v-btn",{directives:[{name:"b-modal",rawName:"v-b-modal.modal-1",modifiers:{"modal-1":!0}}],attrs:{color:"primary",primary:""}},[e._v("Register")]),n("b-modal",{attrs:{id:"modal-1",title:"Get DID"},on:{ok:e.handleLogin}},[n("b-row",[n("div",{attrs:{id:"pad"}},[n("b-form",[n("b-form-group",{attrs:{id:"input-group-1",label:"Your ECC Public Key:","label-for":"input-1"}},[n("div",{attrs:{id:"wid"}},[n("b-form-file",{attrs:{id:"fileID",state:Boolean(e.file),placeholder:"File containing your public key","drop-placeholder":"Drop file here..."},model:{value:e.file,callback:function(t){e.file=t},expression:"file"}}),n("hr"),n("b-button",{attrs:{variant:"primary"},on:{click:function(t){return e.getKey()}}},[e._v("Load")]),e._v("          \n                    "),n("div",[n("span",[e._v("Don't have an ECC key pair? "),n("span",{staticStyle:{color:"blue"},on:{click:function(t){return e.gen()}}},[e._v("Generate ")]),e._v("one")])])],1)])],1)],1)])],1)],1)],1)],1)},q=[],C=n("0926"),I=n("76b0"),R=n.n(I),P=n("842a"),j=n.n(P);function D(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function N(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?D(Object(n),!0).forEach((function(t){T(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):D(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function E(e,t,n,r,o,i,a){try{var s=e[i](a),c=s.value}catch(u){return void n(u)}s.done?t(c):Promise.resolve(c).then(r,o)}function O(e){return function(){var t=this,n=arguments;return new Promise((function(r,o){var i=e.apply(t,n);function a(e){E(i,r,o,a,s,"next",e)}function s(e){E(i,r,o,a,s,"throw",e)}a(void 0)}))}}function A(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function T(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var $="https://jungle3.cryptolions.io:443",F={blockchain:"eos",protocol:"https",host:"jungle2.cryptolions.io",port:443,chainId:"2a02a0053e5a8cf73a56ba0fda11e4d92e0238a4a2aa74fccf46d5a910746840"},V="didcontract5",L="unicontract2",W="empcontract2",K="crdcontract3",B=function e(t,n){var r=this;A(this,e),T(this,"connect",O(d.a.mark((function e(){return d.a.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,R.a.scatter.connect(r.dappName).then((function(e){if(!e)return console.log("Failed to connect with Scatter!");r.scatter=R.a.scatter}));case 2:return e.next=4,r.scatter.forgetIdentity();case 4:return e.next=6,r.scatter.getIdentity({accounts:[F]}).then((function(){r.account=r.scatter.identity.accounts.find((function(e){return"eos"===e.blockchain}))}));case 6:if(null!==r.account){e.next=8;break}return e.abrupt("return",!1);case 8:return e.abrupt("return",!0);case 9:case"end":return e.stop()}}),e)})))),T(this,"getKey",function(){var e=O(d.a.mark((function e(t){var n;return d.a.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,r.rpc.get_table_rows({json:!0,code:V,scope:V,table:"dids",lower_bound:t});case 2:return n=e.sent,e.abrupt("return",[n.rows[0].publicKey]);case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()),T(this,"getOrg",function(){var e=O(d.a.mark((function e(t){var n;return d.a.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,r.rpc.get_table_rows({json:!0,code:W,scope:W,table:"workers",lower_bound:t});case 2:return n=e.sent,e.abrupt("return",[n.rows[0].organization]);case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()),T(this,"getDid",function(){var e=O(d.a.mark((function e(t){var n;return d.a.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,r.rpc.get_table_rows({json:!0,code:K,scope:K,table:"imntypass",lower_bound:t});case 2:return n=e.sent,e.abrupt("return",[n.rows[0].expiry_time,n.rows[0].signature]);case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()),T(this,"getRequests",function(){var e=O(d.a.mark((function e(t){var n;return d.a.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,r.rpc.get_table_rows({json:!0,code:K,scope:K,table:"listinit",lower_bound:t});case 2:return n=e.sent,e.abrupt("return",n.rows);case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()),T(this,"getPendingRequests",function(){var e=O(d.a.mark((function e(t){var n;return d.a.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,r.rpc.get_table_rows({json:!0,code:K,scope:K,table:"listpdg",lower_bound:t});case 2:return n=e.sent,e.abrupt("return",n.rows);case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()),T(this,"getDomain",function(){var e=O(d.a.mark((function e(t){var n;return d.a.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,r.rpc.get_table_rows({json:!0,code:L,scope:L,table:"orgs",lower_bound:t});case 2:return n=e.sent,e.abrupt("return",n.rows[0].email);case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()),T(this,"getOrganizations",O(d.a.mark((function e(){var t;return d.a.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return console.log("Here"),e.next=3,r.rpc.get_table_rows({json:!0,code:L,scope:L,table:"orgs"});case 3:return t=e.sent,e.abrupt("return",t.rows);case 5:case"end":return e.stop()}}),e)})))),T(this,"getLogin",function(){var e=O(d.a.mark((function e(t,n){var o,i;return d.a.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return o="",n===V?o="dids":n===W&&(o="workers"),e.next=4,r.rpc.get_table_rows({json:!0,code:n,scope:n,table:o,lower_bound:t});case 4:if(i=e.sent,t!==i.rows[0].key){e.next=9;break}return e.abrupt("return",!0);case 9:return e.abrupt("return",!1);case 10:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}()),T(this,"transaction",function(){var e=O(d.a.mark((function e(t,n){return d.a.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return r.api=r.scatter.eos(F,C["Api"],{rpc:r.rpc}),e.next=3,r.api.transact({actions:[{account:r.contractAccount,name:t,authorization:[{actor:r.account.name,permission:r.account.authority}],data:N({},n)}]},{blocksBehind:3,expireSeconds:30});case 3:return e.sent,e.abrupt("return",!0);case 5:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}()),this.dappName=t,this.contractAccount=n,R.a.plugins(new j.a),this.rpc=new C["JsonRpc"]($);this.rpc;window.ScatterJS=null},M=B,z=(n("0b62"),n("f40b")),J=n.n(z),U=n("21a6");function G(e,t,n,r,o,i,a){try{var s=e[i](a),c=s.value}catch(u){return void n(u)}s.done?t(c):Promise.resolve(c).then(r,o)}function Y(e){return function(){var t=this,n=arguments;return new Promise((function(r,o){var i=e.apply(t,n);function a(e){G(i,r,o,a,s,"next",e)}function s(e){G(i,r,o,a,s,"throw",e)}a(void 0)}))}}var H=n("1c46"),Z=(H.randomBytes,n("2330"),n("3337").ec),Q={data:function(){return{file:null,pKey:"",eosio:null}},methods:{gen:function(){var e=Y(d.a.mark((function e(){var t,n,r,o,i,a,s,c,u,l;return d.a.wrap((function(e){while(1)switch(e.prev=e.next){case 0:t=new Z("secp256k1"),n=t.genKeyPair(),r=n.getPrivate("hex"),o=n.getPublic("hex"),i=new J.a("secp256k1"),a={curveParameters:[1,3,132,0,10],privatePEMOptions:{label:"EC PRIVATE KEY"},publicPEMOptions:{label:"PUBLIC KEY"},curve:new Z("secp256k1")},i=new J.a(a),s=i.encodePrivate(r,"raw","pem"),c=i.encodePublic(o,"raw","pem"),u=new Blob([s],{type:"text/plain; charset=utf-8"}),Object(U["saveAs"])(u,"privateKey.txt"),l=new Blob([c],{type:"text/plain; charset=utf-8"}),Object(U["saveAs"])(l,"publicKey.txt");case 13:case"end":return e.stop()}}),e)})));function t(){return e.apply(this,arguments)}return t}(),getKey:function(){var e=Y(d.a.mark((function e(){var t,n=this;return d.a.wrap((function(e){while(1)switch(e.prev=e.next){case 0:t=new FileReader,t.addEventListener("load",(function(e){n.pKey=e.target.result})),t.readAsText(this.file,"UTF-8");case 3:case"end":return e.stop()}}),e,this)})));function t(){return e.apply(this,arguments)}return t}(),handleLogin:function(){var e=Y(d.a.mark((function e(){var t;return d.a.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return null===this.eosio&&(this.eosio=new M("issuedid","didcontract5")),e.next=3,this.eosio.connect();case 3:if(e.sent){e.next=5;break}return e.abrupt("return",console.log("Failed to get Scatter account"));case 5:return t=this.pKey,t.replace("\n",""),e.prev=7,e.next=10,this.eosio.transaction("upsert",{user:this.eosio.account.name,publicKey:t});case 10:if(!e.sent){e.next=14;break}this.$store.commit("loginStatus",!0),this.$store.commit("Identity","individual"),this.$router.push("individual");case 14:e.next=20;break;case 16:e.prev=16,e.t0=e["catch"](7),document.querySelector("#colorRed").style.display="inline",console.log(e.t0);case 20:case"end":return e.stop()}}),e,this,[[7,16]])})));function t(){return e.apply(this,arguments)}return t}()}},X=Q,ee=(n("d6db"),Object(m["a"])(X,S,q,!1,null,null,null)),te=ee.exports,ne=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("v-container",[n("v-layout",{staticClass:"text-xs-center",attrs:{row:""}},[n("v-flex",{staticStyle:{"background-image":"url('http://cdn.wallpapersafari.com/7/86/gqiGH7.jpg')"},attrs:{xs3:""}},[n("v-card",{attrs:{height:"500px"}})],1),n("v-flex",{staticClass:"grey lighten-4",attrs:{xs4:""}},[n("v-container",{staticClass:"text-xs-center",staticStyle:{position:"relative",top:"13%"}},[n("v-card",{attrs:{flat:""}},[n("v-card-title",{attrs:{"primary-title":""}},[n("h4",[e._v("Health Org Registration")])]),n("p",{attrs:{id:"colorRed"}},[e._v("Could not process the details")]),n("v-form",[n("v-text-field",{attrs:{name:"AccountName",label:"Account Name"},model:{value:e.accountName,callback:function(t){e.accountName=t},expression:"accountName"}}),n("v-text-field",{attrs:{name:"EmailAddress",label:"Domain Name"},model:{value:e.email,callback:function(t){e.email=t},expression:"email"}}),n("v-text-field",{attrs:{name:"OrganizationId",label:"Organization ID"},model:{value:e.orgId,callback:function(t){e.orgId=t},expression:"orgId"}}),n("v-text-field",{attrs:{name:"License",label:"Government Issued License"},model:{value:e.license,callback:function(t){e.license=t},expression:"license"}}),n("v-card-actions",[n("v-btn",{attrs:{color:"primary",primary:"",large:"",block:""},on:{click:function(t){return e.handleLogin()}}},[e._v("Register")])],1)],1)],1)],1)],1)],1)],1)},re=[];function oe(e,t,n,r,o,i,a){try{var s=e[i](a),c=s.value}catch(u){return void n(u)}s.done?t(c):Promise.resolve(c).then(r,o)}function ie(e){return function(){var t=this,n=arguments;return new Promise((function(r,o){var i=e.apply(t,n);function a(e){oe(i,r,o,a,s,"next",e)}function s(e){oe(i,r,o,a,s,"throw",e)}a(void 0)}))}}var ae={data:function(){return{accountName:"",email:"",orgId:"",license:"",defaultDidContract:"didcontract5",defaultContract:"unicontract2",eosio:null}},methods:{handleLogin:function(){var e=ie(d.a.mark((function e(){return d.a.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return null===this.eosio&&(this.eosio=new M("university","unicontract2"),console.log("university"),console.log("unicontract2")),e.next=3,this.eosio.connect();case 3:if(e.sent){e.next=5;break}return e.abrupt("return",console.log("Failed to get Scatter account"));case 5:return e.prev=5,e.next=8,this.eosio.transaction("upsert",{user:this.accountName,email:this.email,organizationId:this.orgId,licenseId:this.license,didContractAccount:this.defaultDidContract,contractAccount:this.defaultContract});case 8:if(!e.sent){e.next=11;break}this.$store.commit("loginStatus",!0),this.$router.push("home");case 11:e.next=16;break;case 13:e.prev=13,e.t0=e["catch"](5),document.querySelector("#colorRed").style.display="inline";case 16:case"end":return e.stop()}}),e,this,[[5,13]])})));function t(){return e.apply(this,arguments)}return t}()}},se=ae,ce=Object(m["a"])(se,ne,re,!1,null,null,null),ue=(ce.exports,function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("v-container",[n("v-layout",{attrs:{row:"",wrap:"","align-center":""}},[n("v-container",{staticClass:"text-xs-center",staticStyle:{position:"relative",top:"13%"}},[n("h1",[e._v("Employee Registration")]),n("p",{attrs:{id:"colorRed"}},[e._v("Could not process the details")]),n("p",{attrs:{id:"red"}},[e._v("Domain did not match with the listed domain of the organization")]),n("v-form",[n("v-text-field",{attrs:{name:"UserName",label:"Employee Name"},model:{value:e.userName,callback:function(t){e.userName=t},expression:"userName"}}),n("form",{attrs:{id:"employees"}},[n("select",{attrs:{id:"workers"}},[n("option",{attrs:{id:"default"}},[e._v("Choose your organization")])]),n("v-btn",{attrs:{id:"view",color:"primary",primary:""},on:{click:function(t){return e.getList()}}},[e._v("View")]),n("v-btn",{attrs:{id:"select",color:"primary",primary:""},on:{click:function(t){return e.val()}}},[e._v("Select")])],1),n("v-text-field",{attrs:{type:"email",name:"EmailAddress",label:"Email Address"},model:{value:e.email,callback:function(t){e.email=t},expression:"email"}}),n("v-btn",{attrs:{color:"primary",primary:""},on:{click:function(t){return e.emailOTP()}}},[e._v("Register")])],1)],1)],1)],1)}),le=[];function de(e,t,n,r,o,i,a){try{var s=e[i](a),c=s.value}catch(u){return void n(u)}s.done?t(c):Promise.resolve(c).then(r,o)}function pe(e){return function(){var t=this,n=arguments;return new Promise((function(r,o){var i=e.apply(t,n);function a(e){de(i,r,o,a,s,"next",e)}function s(e){de(i,r,o,a,s,"throw",e)}a(void 0)}))}}var fe={data:function(){return{userName:"",email:"",orgName:"",defaultDidContract:"didcontract5",defaultHealthOrgContract:"unicontract2",eosio:null}},methods:{val:function(){var e=pe(d.a.mark((function e(){var t;return d.a.wrap((function(e){while(1)switch(e.prev=e.next){case 0:t=document.querySelector("#workers").value,this.orgName=t;case 2:case"end":return e.stop()}}),e,this)})));function t(){return e.apply(this,arguments)}return t}(),getList:function(){var e=pe(d.a.mark((function e(){var t,n,r;return d.a.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return null===this.eosio&&(this.eosio=new M("university","unicontract2")),e.next=3,this.eosio.getOrganizations();case 3:for(n in t=e.sent,t)r=document.createElement("option"),r.value=t[n].key,r.text=t[n].key,document.querySelector("#workers").appendChild(r);case 5:case"end":return e.stop()}}),e,this)})));function t(){return e.apply(this,arguments)}return t}(),emailOTP:function(){var e=pe(d.a.mark((function e(){var t,n,r,o,i,a,s;return d.a.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return document.querySelector("#red").style.display="none",t=document.querySelector("#workers").value,this.orgName=t,e.prev=3,null===this.eosio&&(this.eosio=new M("onboarding","empcontract2")),e.next=7,this.eosio.connect();case 7:if(e.sent){e.next=9;break}return e.abrupt("return",console.log("Failed to get Scatter account"));case 9:for(i in n=this.email,r=!1,o="",n)r&&(o+=n[i]),"@"===n[i]&&(r=!0);return e.next=15,this.eosio.getDomain(this.orgName);case 15:if(a=e.sent,o!==a){e.next=24;break}return s="http://localhost:3000/send?to="+this.email+"&org="+this.orgName+"&account="+this.userName,console.log(s),e.next=21,fetch(s);case 21:console.log("Fetched"),e.next=25;break;case 24:document.querySelector("#red").style.display="inline";case 25:e.next=29;break;case 27:e.prev=27,e.t0=e["catch"](3);case 29:case"end":return e.stop()}}),e,this,[[3,27]])})));function t(){return e.apply(this,arguments)}return t}()}},he=fe,ve=(n("1b26"),Object(m["a"])(he,ue,le,!1,null,null,null)),me=(ve.exports,function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("v-container",[n("v-layout",{staticClass:"text-xs-center",attrs:{row:""}},[n("v-container",{staticClass:"text-xs-center",staticStyle:{position:"relative",top:"13%"}},[n("h1",[e._v("View University Credential")]),n("pre",[n("p",{attrs:{id:"colorRed"}},[e._v("Could not find Immunity Passport")])]),n("div",{attrs:{id:"circle"}},[n("p",{attrs:{id:"colorGreen"}},[e._v("Yes, you are Immune! Your immunity passport is valid.")]),n("pre",[n("p",{attrs:{id:"ifExists"}},[e._v("Expires at: "+e._s(e.expiry))])]),n("pre",[n("p",{attrs:{id:"ifExist"}},[e._v("Signature: "+e._s(e.signature))])])]),n("v-btn",{attrs:{color:"primary",primary:""},on:{click:function(t){return e.view()}}},[e._v("View")])],1)],1)],1)}),ye=[];function be(e,t,n,r,o,i,a){try{var s=e[i](a),c=s.value}catch(u){return void n(u)}s.done?t(c):Promise.resolve(c).then(r,o)}function we(e){return function(){var t=this,n=arguments;return new Promise((function(r,o){var i=e.apply(t,n);function a(e){be(i,r,o,a,s,"next",e)}function s(e){be(i,r,o,a,s,"throw",e)}a(void 0)}))}}var xe={data:function(){return{expiry:"",signature:"",eosio:null,sendItems:""}},methods:{view:function(){var e=we(d.a.mark((function e(){var t;return d.a.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return null===this.eosio&&(this.eosio=new M("credentials","crdcontract3")),e.next=3,this.eosio.connect();case 3:if(e.sent){e.next=5;break}return e.abrupt("return",console.log("Failed to get Scatter account"));case 5:return e.prev=5,document.querySelector("#colorRed").style.display="none",document.querySelector("#colorGreen").style.display="none",document.querySelector("#ifExists").style.display="none",document.querySelector("#ifExist").style.display="none",document.querySelector("#circle").style.display="none",e.next=13,this.eosio.transaction("verify",{_individual:this.eosio.account.name});case 13:if(!e.sent){e.next=23;break}return document.querySelector("#colorGreen").style.display="inline",e.next=17,this.eosio.getDid(this.eosio.account.name);case 17:t=e.sent,this.expiry=t[0],this.signature=t[1],document.querySelector("#ifExists").style.display="inline",document.querySelector("#ifExist").style.display="inline",document.querySelector("#circle").style.display="block";case 23:e.next=29;break;case 25:e.prev=25,e.t0=e["catch"](5),document.querySelector("#colorRed").style.display="inline",console.log(e.t0);case 29:case"end":return e.stop()}}),e,this,[[5,25]])})));function t(){return e.apply(this,arguments)}return t}()}},ge=xe,ke=(n("2eaa"),Object(m["a"])(ge,me,ye,!1,null,"6abded73",null)),_e=(ke.exports,function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("v-card-title",{attrs:{"primary-title":""}},[n("h4",[e._v("Your details have been saved")])])}),Se=[],qe={components:{}},Ce=qe,Ie=Object(m["a"])(Ce,_e,Se,!1,null,null,null),Re=Ie.exports,Pe=function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("div",{attrs:{id:"container"}},[r("v-container",[r("v-layout",{staticClass:"text-xs-center",attrs:{row:""}},[r("v-container",{staticClass:"text-xs-center",staticStyle:{position:"relative",top:"13%"}},[r("h1",[e._v("Welcome to Apodeixi")]),r("b-alert",{attrs:{dismissible:"",variant:"info"},model:{value:e.showAlert,callback:function(t){e.showAlert=t},expression:"showAlert"}},[e._v("\n            Please run scatter before interacting with the application\n            ")]),r("b-alert",{attrs:{dismissible:"",variant:"danger"},model:{value:e.showDismissibleAlert,callback:function(t){e.showDismissibleAlert=t},expression:"showDismissibleAlert"}},[e._v("\n            Could not find your credentials\n            ")]),r("hr"),r("b-row",[r("b-col",{attrs:{sm:""}},[r("img",{attrs:{src:n("3860")},on:{click:function(t){return e.handleLogin()}}})]),r("b-col",{attrs:{sm:""}},[r("img",{attrs:{src:n("7518")},on:{click:function(t){return e.handleWorkerLogin()}}})])],1),r("div",{staticClass:"d-none d-md-block"},[r("b-row",[r("b-col",[r("h3",[e._v("Student Login")])]),r("b-col",[r("h3",[e._v("Employee Login")])])],1)],1),r("hr"),r("pre",[r("span",[e._v("Don't already have an account? "),r("router-link",{attrs:{to:"/login"}},[e._v("Get a DID here")]),e._v(" ")],1)]),r("pre",[r("span",[e._v("To verify a university credential, click "),r("router-link",{attrs:{to:"/verify"}},[e._v("here")]),e._v(" ")],1)])],1)],1)],1)],1)},je=[],De=n("14b7"),Ne=n.n(De);function Ee(e,t,n,r,o,i,a){try{var s=e[i](a),c=s.value}catch(u){return void n(u)}s.done?t(c):Promise.resolve(c).then(r,o)}function Oe(e){return function(){var t=this,n=arguments;return new Promise((function(r,o){var i=e.apply(t,n);function a(e){Ee(i,r,o,a,s,"next",e)}function s(e){Ee(i,r,o,a,s,"throw",e)}a(void 0)}))}}var Ae={data:function(){return{showAlert:"",showDismissibleAlert:!1,email:"",orgName:"",license:"",defaultDidContract:"didcontract5",defaultHealthWorkerContract:"empcontract2",eosio:null}},methods:{handleLogin:function(){var e=Oe(d.a.mark((function e(){var t;return d.a.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return null===this.eosio&&(this.eosio=new M("issuedid","didcontract5")),e.next=3,this.eosio.connect();case 3:if(e.sent){e.next=5;break}return e.abrupt("return",console.log("Failed to get Scatter account"));case 5:return e.prev=5,e.next=8,this.eosio.getLogin(this.eosio.account.name,this.defaultDidContract);case 8:t=e.sent,t?(this.$store.commit("loginStatus",!0),this.$store.commit("Identity","individual"),this.$router.push("individual")):this.showDismissibleAlert=!0,e.next=15;break;case 12:e.prev=12,e.t0=e["catch"](5),console.log(e.t0);case 15:case"end":return e.stop()}}),e,this,[[5,12]])})));function t(){return e.apply(this,arguments)}return t}(),handleWorkerLogin:function(){var e=Oe(d.a.mark((function e(){var t;return d.a.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return null===this.eosio&&(this.eosio=new M("issuedid","didcontract5")),e.next=3,this.eosio.connect();case 3:if(e.sent){e.next=5;break}return e.abrupt("return",console.log("Failed to get Scatter account"));case 5:return e.prev=5,e.next=8,this.eosio.getLogin(this.eosio.account.name,this.defaultHealthWorkerContract);case 8:t=e.sent,t?(this.$store.commit("loginStatus",!0),this.$store.commit("Identity","worker"),this.$router.push("workerview")):document.querySelector("#colorRed").style.display="inline",e.next=15;break;case 12:e.prev=12,e.t0=e["catch"](5),console.log(e.t0);case 15:case"end":return e.stop()}}),e,this,[[5,12]])})));function t(){return e.apply(this,arguments)}return t}()}},Te=Ae,$e=(n("996f"),Object(m["a"])(Te,Pe,je,!1,null,"3809d27c",null)),Fe=$e.exports,Ve=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("v-container",[n("v-layout",{staticClass:"text-xs-center",attrs:{row:""}},[n("v-container",{staticClass:"text-xs-center",staticStyle:{position:"relative",top:"13%"}},[n("h1",[e._v("Request Verifiable Credential")]),n("hr"),n("p",{attrs:{id:"colorRed"}},[e._v("Could not process the details")]),n("p",{attrs:{id:"colorGreen"}},[e._v("Your request is saved. Please allow some time to process your request")]),n("v-form",[n("v-text-field",{attrs:{name:"HealthWorker",label:"Org representative account name"},model:{value:e.healthWorkerName,callback:function(t){e.healthWorkerName=t},expression:"healthWorkerName"}}),n("v-text-field",{attrs:{name:"HealthWorker",label:"Student Identifier"},model:{value:e.identifier,callback:function(t){e.identifier=t},expression:"identifier"}}),n("v-btn",{attrs:{color:"primary",id:"click",primary:""},on:{click:function(t){return e.handleLogin()}}},[e._v("Request")])],1)],1)],1)],1)},Le=[];function We(e,t,n,r,o,i,a){try{var s=e[i](a),c=s.value}catch(u){return void n(u)}s.done?t(c):Promise.resolve(c).then(r,o)}function Ke(e){return function(){var t=this,n=arguments;return new Promise((function(r,o){var i=e.apply(t,n);function a(e){We(i,r,o,a,s,"next",e)}function s(e){We(i,r,o,a,s,"throw",e)}a(void 0)}))}}var Be={data:function(){return{identifier:"",healthWorkerName:"",didContract:"didcontract5",healthWorkerContract:"empcontract2",eosio:null}},methods:{handleLogin:function(){var e=Ke(d.a.mark((function e(){return d.a.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return document.querySelector("#colorRed").style.display="none",document.querySelector("#colorGreen").style.display="none",null===this.eosio&&(this.eosio=new M("credentials","crdcontract3")),e.next=5,this.eosio.connect();case 5:if(e.sent){e.next=7;break}return e.abrupt("return",console.log("Failed to get Scatter account"));case 7:return e.prev=7,console.log(this.healthWorkerName),console.log(this.healthWorkerContract),console.log(this.didContract),e.next=13,this.eosio.transaction("initiate",{_requester_name:this.eosio.account.name,_healthworker_name:this.healthWorkerName,_identifier:this.identifier,didContractAccount:this.didContract,healthWorkersContractAccount:this.healthWorkerContract});case 13:if(!e.sent){e.next=17;break}this.$store.commit("loginStatus",!0),document.querySelector("#colorGreen").style.display="inline",document.querySelector("#click").style.display="none";case 17:e.next=23;break;case 19:e.prev=19,e.t0=e["catch"](7),document.querySelector("#colorRed").style.display="inline",console.log(e.t0);case 23:case"end":return e.stop()}}),e,this,[[7,19]])})));function t(){return e.apply(this,arguments)}return t}()}},Me=Be,ze=(n("b20e"),Object(m["a"])(Me,Ve,Le,!1,null,"a21cac30",null)),Je=ze.exports,Ue=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("v-container",[n("v-layout",{staticClass:"text-xs-center",attrs:{row:""}},[n("v-container",{staticClass:"text-xs-center",staticStyle:{position:"relative",top:"13%"}},[n("p",{attrs:{id:"colorGreen"}},[e._v("Request is validated")]),n("p",{attrs:{id:"colorRed"}},[e._v("Could not process the details")]),n("v-form",[n("v-text-field",{attrs:{name:"Requester",label:"Requester Name"},model:{value:e.requesterName,callback:function(t){e.requesterName=t},expression:"requesterName"}}),n("v-text-field",{attrs:{name:"ID",label:"Government ID"},model:{value:e.govtId,callback:function(t){e.govtId=t},expression:"govtId"}}),n("v-btn",{attrs:{color:"primary",id:"click",primary:""},on:{click:function(t){return e.handleLogin()}}},[e._v("Validate")])],1)],1)],1)],1)},Ge=[];function Ye(e,t,n,r,o,i,a){try{var s=e[i](a),c=s.value}catch(u){return void n(u)}s.done?t(c):Promise.resolve(c).then(r,o)}function He(e){return function(){var t=this,n=arguments;return new Promise((function(r,o){var i=e.apply(t,n);function a(e){Ye(i,r,o,a,s,"next",e)}function s(e){Ye(i,r,o,a,s,"throw",e)}a(void 0)}))}}var Ze={data:function(){return{requesterName:"",healthWorkerName:"",govtId:"",eosio:null}},methods:{handleLogin:function(){var e=He(d.a.mark((function e(){return d.a.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return null===this.eosio&&(this.eosio=new M("credentials","crdcontract3")),e.next=3,this.eosio.connect();case 3:if(e.sent){e.next=5;break}return e.abrupt("return",console.log("Failed to get Scatter account"));case 5:return e.prev=5,e.next=8,this.eosio.transaction("validate",{_requester_name:this.requesterName,_health_worker_name:this.eosio.account.name,_govt_id_number:this.govtId});case 8:if(!e.sent){e.next=12;break}this.$store.commit("loginStatus",!0),document.querySelector("#colorGreen").style.display="inline",document.querySelector("#click").style.display="none";case 12:e.next=18;break;case 14:e.prev=14,e.t0=e["catch"](5),document.querySelector("#colorRed").style.display="inline",console.log(e.t0);case 18:case"end":return e.stop()}}),e,this,[[5,14]])})));function t(){return e.apply(this,arguments)}return t}()}},Qe=Ze,Xe=(n("f17c"),Object(m["a"])(Qe,Ue,Ge,!1,null,"728d81f0",null)),et=Xe.exports,tt=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("v-container",[n("v-layout",{staticClass:"text-xs-center",attrs:{row:""}},[n("v-container",{staticClass:"text-xs-center",staticStyle:{position:"relative",top:"13%"}},[n("h1",[e._v("Issue Immunity Passport")]),n("p",{attrs:{id:"colorRed"}},[e._v("Could not process the details")]),n("v-form",[n("v-text-field",{attrs:{name:"Requester",label:"Requester Name"},model:{value:e.requesterName,callback:function(t){e.requesterName=t},expression:"requesterName"}}),n("v-text-field",{attrs:{name:"ID",label:"Test Report ID"},model:{value:e.testReportId,callback:function(t){e.testReportId=t},expression:"testReportId"}}),n("v-btn",{attrs:{color:"primary",primary:""},on:{click:function(t){return e.handleLogin()}}},[e._v("Issue")])],1)],1)],1)],1)},nt=[];function rt(e,t,n,r,o,i,a){try{var s=e[i](a),c=s.value}catch(u){return void n(u)}s.done?t(c):Promise.resolve(c).then(r,o)}function ot(e){return function(){var t=this,n=arguments;return new Promise((function(r,o){var i=e.apply(t,n);function a(e){rt(i,r,o,a,s,"next",e)}function s(e){rt(i,r,o,a,s,"throw",e)}a(void 0)}))}}var it={data:function(){return{requesterName:"",healthWorkerName:"",testReportId:"",eosio:null}},methods:{handleLogin:function(){var e=ot(d.a.mark((function e(){return d.a.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return null===this.eosio&&(this.eosio=new M("credentials","crdcontract3")),e.next=3,this.eosio.connect();case 3:if(e.sent){e.next=5;break}return e.abrupt("return",console.log("Failed to get Scatter account"));case 5:return e.prev=5,e.next=8,this.eosio.transaction("issue",{_requester:this.requesterName,_healthworker:this.eosio.account.name,_testreport_id:this.testReportId});case 8:if(!e.sent){e.next=11;break}this.$store.commit("loginStatus",!0),this.$router.push("requests");case 11:e.next=17;break;case 13:e.prev=13,e.t0=e["catch"](5),document.querySelector("#colorRed").style.display="inline",console.log(e.t0);case 17:case"end":return e.stop()}}),e,this,[[5,13]])})));function t(){return e.apply(this,arguments)}return t}()}},at=it,st=Object(m["a"])(at,tt,nt,!1,null,null,null),ct=st.exports,ut=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("v-container",[n("v-layout",{staticClass:"text-xs-center",attrs:{row:""}},[n("v-container",{staticClass:"text-xs-center",staticStyle:{position:"relative",top:"13%"}},[n("h1",[e._v("Reject Immunity Passport")]),n("p",{attrs:{id:"colorRed"}},[e._v("Could not process the details")]),n("v-form",[n("v-text-field",{attrs:{name:"Requester",label:"Requester Name"},model:{value:e.requesterName,callback:function(t){e.requesterName=t},expression:"requesterName"}}),n("v-text-field",{attrs:{name:"ID",label:"Test Report ID"},model:{value:e.testReportId,callback:function(t){e.testReportId=t},expression:"testReportId"}}),n("v-btn",{attrs:{color:"primary",primary:""},on:{click:function(t){return e.handleLogin()}}},[e._v("Reject")])],1)],1)],1)],1)},lt=[];function dt(e,t,n,r,o,i,a){try{var s=e[i](a),c=s.value}catch(u){return void n(u)}s.done?t(c):Promise.resolve(c).then(r,o)}function pt(e){return function(){var t=this,n=arguments;return new Promise((function(r,o){var i=e.apply(t,n);function a(e){dt(i,r,o,a,s,"next",e)}function s(e){dt(i,r,o,a,s,"throw",e)}a(void 0)}))}}var ft={data:function(){return{requesterName:"",healthWorkerName:"",testReportId:"",eosio:null}},methods:{handleLogin:function(){var e=pt(d.a.mark((function e(){return d.a.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return null===this.eosio&&(this.eosio=new M("credentials","crdcontract3")),e.next=3,this.eosio.connect();case 3:if(e.sent){e.next=5;break}return e.abrupt("return",console.log("Failed to get Scatter account"));case 5:return e.prev=5,e.next=8,this.eosio.transaction("reject",{_requester:this.requesterName,_healthworker:this.eosio.account.name,_testreport_id:this.testReportId});case 8:if(!e.sent){e.next=11;break}this.$store.commit("loginStatus",!0),this.$router.push("requests");case 11:e.next=16;break;case 13:e.prev=13,e.t0=e["catch"](5),document.querySelector("#colorRed").style.display="inline";case 16:case"end":return e.stop()}}),e,this,[[5,13]])})));function t(){return e.apply(this,arguments)}return t}()}},ht=ft,vt=Object(m["a"])(ht,ut,lt,!1,null,null,null),mt=vt.exports,yt=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("v-container",[n("v-layout",{staticClass:"text-xs-center",attrs:{row:""}},[n("v-container",{staticClass:"text-xs-center",staticStyle:{position:"relative",top:"13%"}},[n("h1",[e._v("What would you like to do?")]),n("hr"),n("v-btn",{attrs:{color:"primary"},on:{click:function(t){return e.initiated()}}},[e._v("View Initiated Requests")])],1)],1)],1)},bt=[];function wt(e,t,n,r,o,i,a){try{var s=e[i](a),c=s.value}catch(u){return void n(u)}s.done?t(c):Promise.resolve(c).then(r,o)}function xt(e){return function(){var t=this,n=arguments;return new Promise((function(r,o){var i=e.apply(t,n);function a(e){wt(i,r,o,a,s,"next",e)}function s(e){wt(i,r,o,a,s,"throw",e)}a(void 0)}))}}var gt={data:function(){return{pKey:"",eosio:null}},methods:{initiated:function(){var e=xt(d.a.mark((function e(){return d.a.wrap((function(e){while(1)switch(e.prev=e.next){case 0:this.$router.push("pending");case 1:case"end":return e.stop()}}),e,this)})));function t(){return e.apply(this,arguments)}return t}(),validated:function(){var e=xt(d.a.mark((function e(){return d.a.wrap((function(e){while(1)switch(e.prev=e.next){case 0:this.$router.push("requests");case 1:case"end":return e.stop()}}),e,this)})));function t(){return e.apply(this,arguments)}return t}()}},kt=gt,_t=Object(m["a"])(kt,yt,bt,!1,null,null,null),St=_t.exports,qt=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("v-container",[n("v-layout",{staticClass:"text-xs-center",attrs:{row:""}},[n("v-container",{staticClass:"text-xs-center",staticStyle:{position:"relative",top:"13%"}},[n("h1",[e._v("What would you like to do?")]),n("hr"),n("v-btn",{attrs:{color:"primary"},on:{click:function(t){return e.request()}}},[e._v("Request VC")]),n("v-btn",{attrs:{color:"primary"},on:{click:function(t){return e.present()}}},[e._v("Present VC")])],1)],1)],1)},Ct=[];function It(e,t,n,r,o,i,a){try{var s=e[i](a),c=s.value}catch(u){return void n(u)}s.done?t(c):Promise.resolve(c).then(r,o)}function Rt(e){return function(){var t=this,n=arguments;return new Promise((function(r,o){var i=e.apply(t,n);function a(e){It(i,r,o,a,s,"next",e)}function s(e){It(i,r,o,a,s,"throw",e)}a(void 0)}))}}var Pt={data:function(){return{pKey:"",eosio:null}},methods:{request:function(){var e=Rt(d.a.mark((function e(){return d.a.wrap((function(e){while(1)switch(e.prev=e.next){case 0:this.$router.push("request");case 1:case"end":return e.stop()}}),e,this)})));function t(){return e.apply(this,arguments)}return t}(),view:function(){var e=Rt(d.a.mark((function e(){return d.a.wrap((function(e){while(1)switch(e.prev=e.next){case 0:this.$router.push("view");case 1:case"end":return e.stop()}}),e,this)})));function t(){return e.apply(this,arguments)}return t}(),present:function(){var e=Rt(d.a.mark((function e(){return d.a.wrap((function(e){while(1)switch(e.prev=e.next){case 0:this.$router.push("present");case 1:case"end":return e.stop()}}),e,this)})));function t(){return e.apply(this,arguments)}return t}()}},jt=Pt,Dt=Object(m["a"])(jt,qt,Ct,!1,null,null,null),Nt=Dt.exports,Et=function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("div",{attrs:{id:"container"}},[r("v-container",[r("v-layout",{staticClass:"text-xs-center",attrs:{row:""}},[r("v-container",{staticClass:"text-xs-center",staticStyle:{position:"relative",top:"13%"}},[r("div",{attrs:{id:"reg"}},[r("h1",[e._v("I am?")]),r("hr"),r("b-row",[r("b-col",[r("img",{attrs:{src:n("3860")},on:{click:function(t){return e.individual()}}})]),r("b-col",[r("img",{attrs:{src:n("7518")},on:{click:function(t){return e.employee()}}})])],1),r("b-row",[r("b-col",[r("h3",[e._v("Student")])]),r("b-col",[r("h3",[e._v("Employee")])])],1)],1),r("div",{staticStyle:{display:"none"},attrs:{id:"emp"}},[r("h1",[e._v("Do you have a DID?")]),r("hr"),r("v-btn",{attrs:{color:"primary"},on:{click:function(t){return e.worker()}}},[e._v("Yes")]),r("v-btn",{attrs:{color:"primary"},on:{click:function(t){return e.individual()}}},[e._v("No")])],1)])],1)],1)],1)},Ot=[];function At(e,t,n,r,o,i,a){try{var s=e[i](a),c=s.value}catch(u){return void n(u)}s.done?t(c):Promise.resolve(c).then(r,o)}function Tt(e){return function(){var t=this,n=arguments;return new Promise((function(r,o){var i=e.apply(t,n);function a(e){At(i,r,o,a,s,"next",e)}function s(e){At(i,r,o,a,s,"throw",e)}a(void 0)}))}}var $t={data:function(){return{pKey:"",eosio:null}},methods:{employee:function(){var e=Tt(d.a.mark((function e(){return d.a.wrap((function(e){while(1)switch(e.prev=e.next){case 0:document.getElementById("emp").style.display="inline",document.getElementById("reg").style.display="none";case 2:case"end":return e.stop()}}),e)})));function t(){return e.apply(this,arguments)}return t}(),individual:function(){var e=Tt(d.a.mark((function e(){return d.a.wrap((function(e){while(1)switch(e.prev=e.next){case 0:this.$router.push("login");case 1:case"end":return e.stop()}}),e,this)})));function t(){return e.apply(this,arguments)}return t}(),worker:function(){var e=Tt(d.a.mark((function e(){return d.a.wrap((function(e){while(1)switch(e.prev=e.next){case 0:this.$router.push("worker");case 1:case"end":return e.stop()}}),e,this)})));function t(){return e.apply(this,arguments)}return t}()}},Ft=$t,Vt=(n("ca11"),Object(m["a"])(Ft,Et,Ot,!1,null,"2d6b15a5",null)),Lt=(Vt.exports,function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("v-container",[n("v-layout",{staticClass:"text-xs-center",attrs:{row:""}},[n("v-container",{staticClass:"text-xs-center",staticStyle:{position:"relative",top:"13%"}},[n("h1",{attrs:{id:"remove"}},[e._v("Requests Initiated")]),n("h1",{attrs:{id:"ifExists"}},[e._v("The following have requested for a University Credential")]),n("hr"),n("p",{attrs:{id:"ifNotSelected"}},[e._v("Please select a name from the drop down menu")]),n("p",{attrs:{id:"fail"}},[e._v("Could not process the details")]),n("h1",{attrs:{id:"noRequests"}},[e._v("You have no requests for now.")]),n("pre",[n("p",{attrs:{id:"green"}},[e._v("The request has been validated")])]),n("v-btn",{attrs:{color:"primary",id:"request",primary:""},on:{click:function(t){return e.viewRequests()}}},[e._v("View")]),n("b-alert",{attrs:{variant:"danger",dismissible:""},on:{dismissed:function(t){e.showDismissibleAlert=!1}},model:{value:e.showDismissibleAlert,callback:function(t){e.showDismissibleAlert=t},expression:"showDismissibleAlert"}},[e._v("\n            Could not issue a JWT\n            ")]),n("b-alert",{attrs:{variant:"success"},model:{value:e.showAlert,callback:function(t){e.showAlert=t},expression:"showAlert"}},[e._v("\n            JWT Issued\n            ")]),n("form",{attrs:{id:"form",name:"requestsForm"}},[n("select",{attrs:{id:"border"}},[n("option",{attrs:{value:"none"}},[e._v("Choose the Student")])]),n("v-btn",{attrs:{color:"primary",id:"ifTrue"},on:{click:function(t){return e.getName()}}},[e._v("View Request")])],1),n("div",{staticStyle:{display:"none"},attrs:{id:"card"}},[n("b-row",{staticClass:"mt-5",attrs:{"align-h":"center"}},[n("b-col",{attrs:{cols:"5"}},[n("b-card",{staticClass:"mb-2",staticStyle:{"max-width":"50rem"},attrs:{title:"University Credential"}},[n("b-card-text",[e._v("\n                    Name: "+e._s(this.name)+"\n                    \n                  ")]),n("b-button",{directives:[{name:"b-modal",rawName:"v-b-modal.modal-1",modifiers:{"modal-1":!0}}],attrs:{variant:"primary"}},[e._v("Issue Credential")])],1)],1)],1)],1),n("textarea",{attrs:{readonly:"",rows:"20",cols:"100",id:"token"}}),n("b-modal",{staticClass:"p-3",attrs:{id:"modal-1",title:"Issue Credential"},on:{ok:e.createJWT}},[n("b-row",[n("div",{attrs:{id:"pad"}},[n("b-form",[n("b-form-group",{attrs:{id:"input-group-2",label:"Type of Degree:","label-for":"input-3"}},[n("b-form-input",{attrs:{id:"input-3",required:"",placeholder:"Type of degree"},model:{value:e.form.degreeType,callback:function(t){e.$set(e.form,"degreeType",t)},expression:"form.degreeType"}})],1),n("b-form-group",{attrs:{id:"input-group-2",label:"Name of degree:","label-for":"input-4"}},[n("b-form-input",{attrs:{id:"input-4",required:"",placeholder:"Name of degree"},model:{value:e.form.degreeName,callback:function(t){e.$set(e.form,"degreeName",t)},expression:"form.degreeName"}})],1),n("b-form-file",{attrs:{id:"fileID",state:Boolean(e.file),placeholder:"File containing your private key","drop-placeholder":"Drop file here..."},model:{value:e.file,callback:function(t){e.file=t},expression:"file"}}),n("div",{attrs:{id:"mar"}},[n("b-button",{attrs:{variant:"primary"},on:{click:function(t){return e.getKey()}}},[e._v("Load")]),e._v("          \n                    \n                  ")],1)],1)],1)])],1)],1)],1)],1)}),Wt=[],Kt=n("8baf");function Bt(e,t,n,r,o,i,a){try{var s=e[i](a),c=s.value}catch(u){return void n(u)}s.done?t(c):Promise.resolve(c).then(r,o)}function Mt(e){return function(){var t=this,n=arguments;return new Promise((function(r,o){var i=e.apply(t,n);function a(e){Bt(i,r,o,a,s,"next",e)}function s(e){Bt(i,r,o,a,s,"throw",e)}a(void 0)}))}}var zt={data:function(){return{file:null,name:"",identifier:"",govtId:"",showAlert:!1,showDismissibleAlert:!1,form:{issuingTo:"",issuer:"",degreeType:"",degreeName:"",expiresIn:"",pkey:""},listRequests:[],eosio:null}},components:{Validate:et},methods:{getKey:function(){var e=Mt(d.a.mark((function e(){var t,n=this;return d.a.wrap((function(e){while(1)switch(e.prev=e.next){case 0:t=new FileReader,t.addEventListener("load",(function(e){n.form.pkey=e.target.result})),t.readAsText(this.file,"UTF-8");case 3:case"end":return e.stop()}}),e,this)})));function t(){return e.apply(this,arguments)}return t}(),createJWT:function(){var e=Mt(d.a.mark((function e(t){var n,r,o,i,a,s,c,u,l,p,f,h,v,m,y,b,w,x,g,k,_,S,q;return d.a.wrap((function(e){while(1)switch(e.prev=e.next){case 0:for(t.preventDefault(),n=this.form.issuingTo,r=this.form.issuer,o=this.form.degreeType,i=this.form.degreeName,a=this.form.expiresIn,s={vc:{context:["https://www.w3.org/2018/credentials/v1","https://www.w3.org/2018/credentials/examples/v1"],type:["VerifiableCredential","UniversityDegreeCredential"],credentialSubject:{degree:{type:"BachelorDegree",name:"Bachelor of Science and Arts"}}}},s.vc.credentialSubject.degree.type=o,s.vc.credentialSubject.degree.name=i,c=r,u=n,"India",a,l="",p="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",f=15,h=p.length,v=0;v<f;v++)l+=p.charAt(Math.floor(Math.random()*h));m={issuer:c,subject:u,jwtid:l,algorithm:"ES256"},y=Ne.a.sign(s,this.form.pkey,m),this.$bvModal.hide("modal-1"),this.showAlert=!0,document.getElementById("card").style.display="none",document.getElementById("form").style.display="none",b=m.issuer.split(":")[2],w=m.subject.split(":")[2],x=new Blob([y],{type:"text/plain; charset=utf-8"}),Object(U["saveAs"])(x,b+"-vc-"+w+".txt"),g=new Kt["a"]("p","mm",[297,210]),k=new Date,_=k.getFullYear()+"-"+(k.getMonth()+1)+"-"+k.getDate()+"T",S=k.getHours()+":"+k.getMinutes()+":"+k.getSeconds()+"Z",q={context:["https://www.w3.org/2018/credentials/v1","https://www.w3.org/2018/credentials/examples/v1"],type:["VerifiableCredential","AlumniCredential"],issuer:m.issuer,issuanceDate:_+S,credentialSubject:{id:m.subject,degree:{type:"Bachelors",name:"Computer Science and Engineering"}},proof:{type:"EcdsaSignature",created:_+S,proofPurpose:"assertionMethod",verificationMethod:"publicKey",jws:y}},g.setFontSize(32),g.text("Verifiable Credential",55,30),g.setFontSize(12),g.text("Context: "+q.context[0],10,50),g.text(q.context[1],27,55),g.text("Type:     "+q.type[0],10,65),g.text(q.type[1],27,70),g.text("Issuer:   "+q.issuer,10,80),g.text("Issuance date: "+q.issuanceDate,10,90),g.text("Issued to: "+q.credentialSubject.id,10,100),g.text("Degree Type: "+q.credentialSubject.degree.type,10,110),g.text("Degree Name: "+q.credentialSubject.degree.name,10,120),g.text("Proof Type: "+q.proof.type,10,130),g.text("Created on: "+q.proof.created,10,140),g.text("Proof Purpose: "+q.proof.proofPurpose,10,150),g.text("Verification Method: "+q.proof.verificationMethod,10,160),g.save("Credential.pdf");case 50:case"end":return e.stop()}}),e,this)})));function t(t){return e.apply(this,arguments)}return t}(),handleLogin:function(){var e=Mt(d.a.mark((function e(){return d.a.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return document.querySelector("#green").style.display="none",document.querySelector("#fail").style.display="none",null===this.eosio&&(this.eosio=new M("credentials","crdcontract3")),e.next=5,this.eosio.connect();case 5:if(e.sent){e.next=7;break}return e.abrupt("return",console.log("Failed to get Scatter account"));case 7:return e.prev=7,e.next=10,this.eosio.transaction("validate",{_requester_name:this.name,_health_worker_name:this.eosio.account.name,_govt_id_number:this.govtId});case 10:if(!e.sent){e.next=20;break}this.$router.push("pending"),this.$store.commit("loginStatus",!0),document.querySelector("#click").style.display="none",document.querySelector("#ifTrue").style.display="none",document.querySelector("#border").style.display="none",document.querySelector("#green").style.display="inline",document.querySelector("#green").style.display="inline",document.querySelector("#ifExists").style.display="none",document.querySelector("#remove").style.display="inline";case 20:e.next=26;break;case 22:e.prev=22,e.t0=e["catch"](7),document.querySelector("#fail").style.display="inline",console.log(e.t0);case 26:case"end":return e.stop()}}),e,this,[[7,22]])})));function t(){return e.apply(this,arguments)}return t}(),getName:function(){var e=Mt(d.a.mark((function e(){var t,n;return d.a.wrap((function(e){while(1)switch(e.prev=e.next){case 0:if(document.querySelector("#ifNotSelected").style.display="none",t=document.querySelector("#border").value,this.name=t,this.identifier=document.querySelector("#border").label,"none"===this.name){e.next=14;break}return document.getElementById("card").style.display="inline",e.next=8,this.eosio.getOrg(this.eosio.account.name);case 8:n=e.sent,console.log(n),this.form.issuer="did:eos:"+n,this.form.issuingTo="did:eos:"+this.name,e.next=15;break;case 14:document.querySelector("#ifNotSelected").style.display="inline";case 15:case"end":return e.stop()}}),e,this)})));function t(){return e.apply(this,arguments)}return t}(),viewRequests:function(){var e=Mt(d.a.mark((function e(){var t,n,r,o,i,a;return d.a.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return null===this.eosio&&(this.eosio=new M("credentials","crdcontract3")),e.next=3,this.eosio.connect();case 3:if(e.sent){e.next=5;break}return e.abrupt("return",console.log("Failed to get Scatter account"));case 5:return e.prev=5,e.next=8,this.eosio.getRequests();case 8:for(o in t=e.sent,n=[],[],r=0,t)t[o].healthworker_name==this.eosio.account.name&&(n.push(t[o]),r++,i=document.createElement("option"),i.value=t[o].requester_name,i.text=t[o].requester_name,i.label=t[o].identifier,a=document.createElement("br"),document.querySelector("#border").appendChild(a),document.querySelector("#border").appendChild(i),document.querySelector("#border").appendChild(a));this.listRequests=n,document.querySelector("#remove").style.display="none",document.querySelector("#request").style.display="none",0!=r?(document.querySelector("#ifExists").style.display="inline",document.querySelector("#border").style.display="block",document.querySelector("#ifTrue").style.display="inline"):document.querySelector("#noRequests").style.display="inline",e.next=22;break;case 19:e.prev=19,e.t0=e["catch"](5),console.log(e.t0);case 22:case"end":return e.stop()}}),e,this,[[5,19]])})));function t(){return e.apply(this,arguments)}return t}()}},Jt=zt,Ut=(n("ff8b"),Object(m["a"])(Jt,Lt,Wt,!1,null,"0f8d4650",null)),Gt=Ut.exports,Yt=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("v-container",[n("v-layout",{staticClass:"text-xs-center",attrs:{row:""}},[n("v-container",{staticClass:"text-xs-center",staticStyle:{position:"relative",top:"13%"}},[n("h1",{attrs:{id:"remove"}},[e._v("Pending Requests")]),n("pre",[n("h1",{attrs:{id:"ifExists"}},[e._v("Select the patient: ")])]),n("p",{attrs:{id:"ifNotSelected"}},[e._v("Please select an option from the drop down menu")]),n("p",{attrs:{id:"colorRed"}},[e._v("Could not process the details")]),n("pre",[n("p",{attrs:{id:"green"}},[e._v("Your action has been saved")])]),n("h1",{attrs:{id:"noRequests"}},[e._v("You have no pending requests for now.")]),n("v-btn",{attrs:{color:"primary",id:"request",primary:""},on:{click:function(t){return e.viewRequests()}}},[e._v("View")]),n("form",{attrs:{id:"form",name:"requestsForm"}},[n("select",{attrs:{id:"border"}},[n("option",{attrs:{value:"none"}},[e._v("Choose the patient")])]),n("div",{attrs:{id:"display"}},[n("v-btn",{attrs:{color:"primary",id:"requestIssue",primary:""},on:{click:function(t){return e.Issuing()}}},[e._v("Issue")]),n("v-btn",{attrs:{color:"primary",id:"requestReject",primary:""},on:{click:function(t){return e.Rejecting()}}},[e._v("Reject")])],1)]),n("h1",{attrs:{id:"ifValid"}},[e._v("Issue Immunity Passport to: "+e._s(e.name))]),n("h1",{attrs:{id:"ifNotValid"}},[e._v("Reject Immunity Passport to: "+e._s(e.name))]),n("div",{attrs:{id:"issue"}},[n("v-text-field",{attrs:{name:"ID",label:"Test Report ID"},model:{value:e.testReportId,callback:function(t){e.testReportId=t},expression:"testReportId"}}),n("v-btn",{attrs:{color:"primary",primary:""},on:{click:function(t){return e.Issue()}}},[e._v("Issue")])],1),n("div",{attrs:{id:"reject"}},[n("v-text-field",{attrs:{name:"ID",label:"Test Report ID"},model:{value:e.testReportId,callback:function(t){e.testReportId=t},expression:"testReportId"}}),n("v-btn",{attrs:{color:"primary",primary:""},on:{click:function(t){return e.Reject()}}},[e._v("Reject")])],1)],1)],1)],1)},Ht=[];function Zt(e,t,n,r,o,i,a){try{var s=e[i](a),c=s.value}catch(u){return void n(u)}s.done?t(c):Promise.resolve(c).then(r,o)}function Qt(e){return function(){var t=this,n=arguments;return new Promise((function(r,o){var i=e.apply(t,n);function a(e){Zt(i,r,o,a,s,"next",e)}function s(e){Zt(i,r,o,a,s,"throw",e)}a(void 0)}))}}var Xt={data:function(){return{name:"",testReportId:"",pKey:"",listRequests:[],picked:"",eosio:null}},components:{Issue:ct,Reject:mt},methods:{Issue:function(){var e=Qt(d.a.mark((function e(){return d.a.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return null===this.eosio&&(this.eosio=new M("credentials","crdcontract3"),console.log("crdcontract3"),console.log("credentials")),e.next=3,this.eosio.connect();case 3:if(e.sent){e.next=5;break}return e.abrupt("return",console.log("Failed to get Scatter account"));case 5:return e.prev=5,e.next=8,this.eosio.transaction("issue",{_requester:this.name,_healthworker:this.eosio.account.name,_testreport_id:this.testReportId});case 8:if(!e.sent){e.next=23;break}this.$store.commit("loginStatus",!0),document.querySelector("#green").style.display="inline",document.querySelector("#colorRed").style.display="none",document.querySelector("#request").style.display="none",document.querySelector("#requestIssue").style.display="none",document.querySelector("#requestReject").style.display="none",document.querySelector("#issue").style.display="none",document.querySelector("#reject").style.display="none",document.querySelector("#border").style.display="none",document.querySelector("#ifValid").style.display="none",document.querySelector("#ifNotValid").style.display="none",document.querySelector("#ifExists").style.display="none",document.querySelector("#remove").style.display="inline",this.$router.push("requests");case 23:e.next=29;break;case 25:e.prev=25,e.t0=e["catch"](5),document.querySelector("#colorRed").style.display="inline",console.log(e.t0);case 29:case"end":return e.stop()}}),e,this,[[5,25]])})));function t(){return e.apply(this,arguments)}return t}(),Reject:function(){var e=Qt(d.a.mark((function e(){return d.a.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return null===this.eosio&&(this.eosio=new M("credentials","crdcontract3"),console.log("crdcontract3"),console.log("credentials")),e.next=3,this.eosio.connect();case 3:if(e.sent){e.next=5;break}return e.abrupt("return",console.log("Failed to get Scatter account"));case 5:return e.prev=5,e.next=8,this.eosio.transaction("reject",{_requester:this.name,_healthworker:this.eosio.account.name,_testreport_id:this.testReportId});case 8:if(!e.sent){e.next=18;break}this.$store.commit("loginStatus",!0),document.querySelector("#green").style.display="inline",document.querySelector("#colorRed").style.display="none",document.querySelector("#request").style.display="none",document.querySelector("#requestIssue").style.display="none",document.querySelector("#requestReject").style.display="none",document.querySelector("#issue").style.display="none",document.querySelector("#reject").style.display="none",this.$router.push("requests");case 18:e.next=23;break;case 20:e.prev=20,e.t0=e["catch"](5),document.querySelector("#colorRed").style.display="inline";case 23:case"end":return e.stop()}}),e,this,[[5,20]])})));function t(){return e.apply(this,arguments)}return t}(),Issuing:function(){var e=Qt(d.a.mark((function e(){var t;return d.a.wrap((function(e){while(1)switch(e.prev=e.next){case 0:t=document.querySelector("#border").value,this.name=t,console.log(this.name),document.querySelector("#issue").style.display="none",document.querySelector("#reject").style.display="none",document.querySelector("#ifValid").style.display="none",document.querySelector("#ifNotValid").style.display="none","none"!==this.name?(document.querySelector("#ifNotSelected").style.display="none",document.querySelector("#display").style.display="inline",document.querySelector("#ifValid").style.display="inline",document.querySelector("#issue").style.display="inline"):document.querySelector("#ifNotSelected").style.display="inline";case 8:case"end":return e.stop()}}),e,this)})));function t(){return e.apply(this,arguments)}return t}(),Rejecting:function(){var e=Qt(d.a.mark((function e(){var t;return d.a.wrap((function(e){while(1)switch(e.prev=e.next){case 0:t=document.querySelector("#border").value,this.name=t,document.querySelector("#reject").style.display="none",document.querySelector("#issue").style.display="none",document.querySelector("#ifValid").style.display="none",document.querySelector("#ifNotValid").style.display="none","none"!==this.name?(document.querySelector("#ifNotSelected").style.display="none",document.querySelector("#display").style.display="inline",document.querySelector("#ifNotValid").style.display="inline",document.querySelector("#reject").style.display="inline"):document.querySelector("#ifNotSelected").style.display="inline";case 7:case"end":return e.stop()}}),e,this)})));function t(){return e.apply(this,arguments)}return t}(),viewRequests:function(){var e=Qt(d.a.mark((function e(){var t,n,r,o,i,a;return d.a.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return null===this.eosio&&(this.eosio=new M("credentials","crdcontract3")),e.next=3,this.eosio.connect();case 3:if(e.sent){e.next=5;break}return e.abrupt("return",console.log("Failed to get Scatter account"));case 5:return e.prev=5,e.next=8,this.eosio.getPendingRequests();case 8:for(o in t=e.sent,n=[],r=0,t)t[o].healthworker_name==this.eosio.account.name&&(n.push(t[o]),r++,i=document.createElement("option"),i.value=t[o].requester_name,i.text=t[o].requester_name,document.querySelector("#border").appendChild(i),a=document.createElement("br"),document.querySelector("#border").appendChild(a));this.listRequests=n,document.querySelector("#remove").style.display="none",document.querySelector("#request").style.display="none",0!=r?(document.querySelector("#ifExists").style.display="inline",document.querySelector("#display").style.display="inline",document.querySelector("#border").style.display="block"):document.querySelector("#noRequests").style.display="inline",e.next=21;break;case 18:e.prev=18,e.t0=e["catch"](5),console.log(e.t0);case 21:case"end":return e.stop()}}),e,this,[[5,18]])})));function t(){return e.apply(this,arguments)}return t}()}},en=Xt,tn=(n("9bfd"),Object(m["a"])(en,Yt,Ht,!1,null,"4e538c97",null)),nn=(tn.exports,function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("v-container",[n("v-layout",{attrs:{row:"",wrap:"","align-center":""}},[n("v-container",{staticClass:"text-xs-center",staticStyle:{position:"relative",top:"13%"}},[n("h1",[e._v("Present Verifiable Credential")]),n("hr"),n("p",{attrs:{id:"colorRed"}},[e._v("Could not process the details")]),n("p",{attrs:{id:"red"}},[e._v("Domain did not match with the listed domain of the organization")]),n("b-alert",{attrs:{variant:"success"},model:{value:e.showSuccess,callback:function(t){e.showSuccess=t},expression:"showSuccess"}},[e._v("\n            Verifiable Presentation JWT is generated\n          ")]),n("b-row",{attrs:{"align-h":"center"},on:{submit:e.present}},[n("b-col",{attrs:{cols:"10"}},[e.show?n("b-form",[n("b-form-group",{attrs:{id:"input-group-1","label-for":"input-1"}},[n("b-form-input",{attrs:{id:"input-1",type:"text",required:"",placeholder:"Intended Audience"},model:{value:e.form.audience,callback:function(t){e.$set(e.form,"audience",t)},expression:"form.audience"}})],1),n("div",{attrs:{id:"disp"}},[n("div",{staticClass:"mar"},[n("b-form-file",{attrs:{id:"fileID",state:Boolean(e.token),placeholder:"File containing your JWT Credential","drop-placeholder":"Drop file here..."},model:{value:e.token,callback:function(t){e.token=t},expression:"token"}})],1),n("b-form-file",{attrs:{id:"fileID",state:Boolean(e.file),placeholder:"File containing your private key","drop-placeholder":"Drop file here..."},model:{value:e.file,callback:function(t){e.file=t},expression:"file"}}),n("div",{staticClass:"mar"},[n("b-button",{attrs:{variant:"primary"},on:{click:function(t){return e.getKey()}}},[e._v("Load")]),e._v("          \n                  "),n("b-button",{attrs:{type:"submit",variant:"primary"}},[e._v("Submit")])],1)],1)],1):e._e()],1)],1)],1)],1)],1)}),rn=[];function on(e,t,n,r,o,i,a){try{var s=e[i](a),c=s.value}catch(u){return void n(u)}s.done?t(c):Promise.resolve(c).then(r,o)}function an(e){return function(){var t=this,n=arguments;return new Promise((function(r,o){var i=e.apply(t,n);function a(e){on(i,r,o,a,s,"next",e)}function s(e){on(i,r,o,a,s,"throw",e)}a(void 0)}))}}var sn={data:function(){return{token:null,showAlert:!1,file:null,showSuccess:!1,privateKey:"",form:{audience:"",key:"",token:""},show:!0,defaultDidContract:"didcontract5",defaultHealthOrgContract:"unicontract2",eosio:null}},methods:{getKey:function(){var e=an(d.a.mark((function e(t){var n,r,o=this;return d.a.wrap((function(e){while(1)switch(e.prev=e.next){case 0:n=new FileReader,n.addEventListener("load",(function(e){o.form.key=e.target.result})),n.readAsText(this.file,"UTF-8"),r=new FileReader,r.addEventListener("load",(function(e){o.form.token=e.target.result})),r.readAsText(this.token,"UTF-8");case 6:case"end":return e.stop()}}),e,this)})));function t(t){return e.apply(this,arguments)}return t}(),present:function(){var e=an(d.a.mark((function e(t){var n,r,o,i,a,s,c,u,l,p,f,h,v,m,y,b,w;return d.a.wrap((function(e){while(1)switch(e.prev=e.next){case 0:for(t.preventDefault(),n=this.form.audience,r=this.form.token,o=Ne.a.decode(r,{complete:!0}),i={vp:{context:"",type:"",verifiableCredential:""}},i.vp.context=o.payload.vc.context,i.vp.type=["VerifiablePresentiation"],i.vp.verifiableCredential=r,a="",s="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",c=15,u=s.length,l=0;l<c;l++)a+=s.charAt(Math.floor(Math.random()*u));p={issuer:o.payload.sub,audience:n,expiresIn:"2m",jwtid:a,algorithm:"ES256"},r=Ne.a.sign(i,this.form.key,p),document.getElementById("input-1").style.display="none",this.showSuccess=!0,document.getElementById("disp").style.display="none",f=new Blob([r],{type:"text/plain; charset=utf-8"}),Object(U["saveAs"])(f,"jwtPresentation.txt"),h=new Kt["a"]("p","mm",[297,210]),v=new Date,m=v.getFullYear()+"-"+(v.getMonth()+1)+"-"+v.getDate()+"T",y=v.getHours()+":"+v.getMinutes()+":"+v.getSeconds()+"Z",b=new Date(0),b.setUTCSeconds(o.payload.iat),w={context:["https://www.w3.org/2018/credentials/v1","https://www.w3.org/2018/credentials/examples/v1"],type:"VerifiablePresentation",verifiableCredential:{context:["https://www.w3.org/2018/credentials/v1","https://www.w3.org/2018/credentials/examples/v1"],type:["VerifiableCredential","AlumniCredential"],issuer:o.payload.iss,issuanceDate:b,credentialSubject:{id:o.payload.sub,degree:{type:"Bachelors",name:"Computer Science and Engineering"}},proof:{type:"EcdsaSignature",created:b,proofPurpose:"assertionMethod",verificationMethod:"publicKey",jws:r}},proof:{type:"EcdsaSignature",created:m+y,proofPurpose:"authentication",verificationMethod:"publicKey"}},h.setFontSize(32),h.text("Verifiable Presentation",50,30),h.setFontSize(12),h.text("Context: "+w.context[0],10,55),h.text(w.context[1],27,60),h.text("Type:     "+w.type,10,70),h.text("Issuer:   "+w.verifiableCredential.issuer,10,80),h.text("Issuance date: "+w.verifiableCredential.issuanceDate,10,90),h.text("Issued to: "+w.verifiableCredential.credentialSubject.id,10,100),h.text("Degree Type: "+w.verifiableCredential.credentialSubject.degree.type,10,110),h.text("Degree Name: "+w.verifiableCredential.credentialSubject.degree.name,10,120),h.text("Proof Type: "+w.verifiableCredential.proof.type,10,130),h.text("Created on: "+w.verifiableCredential.proof.created,10,140),h.text("Proof Purpose: "+w.proof.proofPurpose,10,150),h.text("Verification Method: "+w.proof.verificationMethod,10,160),h.text("Proof Created: "+w.proof.created,10,170),h.text("Audience: "+p.audience,10,180),h.save("Presentation.pdf");case 45:case"end":return e.stop()}}),e,this)})));function t(t){return e.apply(this,arguments)}return t}(),setVal:function(){var e=an(d.a.mark((function e(t){return d.a.wrap((function(e){while(1)switch(e.prev=e.next){case 0:console.log(t);case 1:case"end":return e.stop()}}),e)})));function t(t){return e.apply(this,arguments)}return t}(),val:function(){var e=an(d.a.mark((function e(){var t;return d.a.wrap((function(e){while(1)switch(e.prev=e.next){case 0:t=document.querySelector("#workers").value,this.orgName=t;case 2:case"end":return e.stop()}}),e,this)})));function t(){return e.apply(this,arguments)}return t}(),getList:function(){var e=an(d.a.mark((function e(){var t,n,r;return d.a.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return null===this.eosio&&(this.eosio=new M("university","unicontract2")),e.next=3,this.eosio.getOrganizations();case 3:for(n in t=e.sent,t)r=document.createElement("option"),r.value=t[n].key,r.text=t[n].key,document.querySelector("#workers").appendChild(r);case 5:case"end":return e.stop()}}),e,this)})));function t(){return e.apply(this,arguments)}return t}(),emailOTP:function(){var e=an(d.a.mark((function e(){var t,n,r,o,i,a,s;return d.a.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return document.querySelector("#red").style.display="none",t=document.querySelector("#workers").value,this.orgName=t,e.prev=3,null===this.eosio&&(this.eosio=new M("onboarding","empcontract2")),e.next=7,this.eosio.connect();case 7:if(e.sent){e.next=9;break}return e.abrupt("return",console.log("Failed to get Scatter account"));case 9:for(i in n=this.email,r=!1,o="",n)r&&(o+=n[i]),"@"===n[i]&&(r=!0);return e.next=15,this.eosio.getDomain(this.orgName);case 15:if(a=e.sent,o!==a){e.next=24;break}return s="http://localhost:3000/send?to="+this.email+"&org="+this.orgName+"&account="+this.userName,console.log(s),e.next=21,fetch(s);case 21:console.log("Fetched"),e.next=25;break;case 24:document.querySelector("#red").style.display="inline";case 25:e.next=29;break;case 27:e.prev=27,e.t0=e["catch"](3);case 29:case"end":return e.stop()}}),e,this,[[3,27]])})));function t(){return e.apply(this,arguments)}return t}()}},cn=sn,un=(n("eb60"),Object(m["a"])(cn,nn,rn,!1,null,null,null)),ln=un.exports,dn=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("v-container",[n("v-layout",{attrs:{row:"",wrap:"","align-center":""}},[n("v-container",{staticClass:"text-xs-center",staticStyle:{position:"relative",top:"13%"}},[n("h1",[e._v("Verify a Credential")]),n("hr"),n("p",{attrs:{id:"colorRed"}},[e._v("Could not process the details")]),n("p",{attrs:{id:"red"}},[e._v("Domain did not match with the listed domain of the organization")]),n("b-alert",{attrs:{variant:"danger",dismissible:""},on:{dismissed:function(t){e.showDismissibleAlert=!1}},model:{value:e.showDismissibleAlert,callback:function(t){e.showDismissibleAlert=t},expression:"showDismissibleAlert"}},[e._v("\n            Sorry, You are not the intended audience. JWT is invalid\n            ")]),n("b-alert",{attrs:{variant:"danger",dismissible:""},on:{dismissed:function(t){e.expired=!1}},model:{value:e.expired,callback:function(t){e.expired=t},expression:"expired"}},[e._v("\n            JWT has expired\n            ")]),n("b-alert",{attrs:{variant:"danger",dismissible:""},on:{dismissed:function(t){e.expired=!1}},model:{value:e.showFailed,callback:function(t){e.showFailed=t},expression:"showFailed"}},[e._v("\n            Sorry, Signature Verification failed. JWT is invalid\n            ")]),n("b-alert",{attrs:{variant:"success"},model:{value:e.showSuccess,callback:function(t){e.showSuccess=t},expression:"showSuccess"}},[e._v("\n            JWT is Verified\n            ")]),n("b-alert",{attrs:{variant:"info"},model:{value:e.showAlert,callback:function(t){e.showAlert=t},expression:"showAlert"}},[e._v("\n            JWT is Valid. Click Verify to verify the credential\n            ")]),n("b-alert",{attrs:{variant:"info"},model:{value:e.showUpload,callback:function(t){e.showUpload=t},expression:"showUpload"}},[e._v("\n            File Upload. Click on resolve to verify status of JWT\n            ")]),n("b-row",{attrs:{"align-h":"center"}},[n("b-col",{attrs:{cols:"10"}},[e.show?n("b-form",[n("b-form-file",{attrs:{id:"fileID",state:Boolean(e.file),placeholder:"File containing your JWT Presentation","drop-placeholder":"Drop file here..."},model:{value:e.file,callback:function(t){e.file=t},expression:"file"}}),n("div",{attrs:{id:"mar"}},[n("b-button",{staticStyle:{display:"none"},attrs:{id:"ver",variant:"primary"},on:{click:function(t){return e.resolve()}}},[e._v("Verify")]),e._v("   \n              \n              "),n("b-button",{attrs:{id:"res",variant:"primary"},on:{click:function(t){return e.check()}}},[e._v("Resolve")])],1)],1):e._e()],1)],1),n("b-modal",{staticClass:"p-3",attrs:{"ok-only":"","ok-title":"Verify",id:"modal-1",title:"Verify Credential"},on:{ok:e.verify}},[n("b-row",[n("div",{attrs:{id:"pad"}},[n("p",[e._v("Credential issued by: "+e._s(e.form.issuer))])])])],1)],1)],1)],1)},pn=[];function fn(e,t,n,r,o,i,a){try{var s=e[i](a),c=s.value}catch(u){return void n(u)}s.done?t(c):Promise.resolve(c).then(r,o)}function hn(e){return function(){var t=this,n=arguments;return new Promise((function(r,o){var i=e.apply(t,n);function a(e){fn(i,r,o,a,s,"next",e)}function s(e){fn(i,r,o,a,s,"throw",e)}a(void 0)}))}}var vn={data:function(){return{showUpload:!1,file:null,showFailed:!1,expired:!1,showAlert:!1,showDismissibleAlert:!1,showSuccess:!1,form:{token:"",key:"",issuer:""},show:!0,defaultDidContract:"didcontract5",defaultHealthOrgContract:"unicontract2",eosio:null}},methods:{check:function(){var e=hn(d.a.mark((function e(){var t,n,r,o,i,a,s=this;return d.a.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return t=new FileReader,t.addEventListener("load",(function(e){s.form.token=e.target.result})),t.readAsText(this.file,"UTF-8"),null===this.eosio&&(this.eosio=new M("issuedid","didcontract5")),e.next=6,this.eosio.connect();case 6:if(e.sent){e.next=8;break}return e.abrupt("return",console.log("Failed to get Scatter account"));case 8:return n=this.eosio.account.name,n="did:eos:"+n,e.prev=10,r=this.form.token,o=Ne.a.decode(r,{complete:!0}),i=o.payload.iss.split(":")[2],e.next=16,this.eosio.getKey(i);case 16:a=e.sent,Ne.a.verify(r,a[0],{audience:n}),document.getElementById("ver").style.display="inline",document.getElementById("res").style.display="none",this.showAlert=!0,e.next=27;break;case 23:e.prev=23,e.t0=e["catch"](10),"jwt audience invalid"===e.t0.message.split(".")[0]&&(this.showDismissibleAlert=!0),"TokenExpiredError"===e.t0.name&&(this.expired=!0);case 27:case"end":return e.stop()}}),e,this,[[10,23]])})));function t(){return e.apply(this,arguments)}return t}(),resolve:function(){var e=hn(d.a.mark((function e(){var t,n,r,o,i,a;return d.a.wrap((function(e){while(1)switch(e.prev=e.next){case 0:console.log("Here");try{t=this.form.token,n=Ne.a.decode(t,{complete:!0}),r=n.payload.vp.verifiableCredential,o=Ne.a.decode(r,{complete:!0}),i=o.payload.iss.split(":")[2],this.$bvModal.show("modal-1")}catch(s){this.showFailed=!0}return null===this.eosio&&(this.eosio=new M("issuedid","didcontract5")),e.next=5,this.eosio.getKey(i);case 5:a=e.sent,this.form.issuer=i,this.form.key=a;case 8:case"end":return e.stop()}}),e,this)})));function t(){return e.apply(this,arguments)}return t}(),verify:function(){var e=hn(d.a.mark((function e(t){var n,r,o,i;return d.a.wrap((function(e){while(1)switch(e.prev=e.next){case 0:this.showSuccess=!1,this.showDismissibleAlert=!1,n=this.form.token,r=this.form.key,this.showAlert=!1,this.showDismissibleAlert=!1,this.showSuccess=!1,o=Ne.a.decode(n,{complete:!0}),i=o.payload.vp.verifiableCredential;try{Ne.a.verify(i,r[0]),this.showSuccess=!0,this.$bvModal.hide("modal-1")}catch(t){this.showFailed=!0,console.log(t)}case 10:case"end":return e.stop()}}),e,this)})));function t(t){return e.apply(this,arguments)}return t}(),val:function(){var e=hn(d.a.mark((function e(){var t;return d.a.wrap((function(e){while(1)switch(e.prev=e.next){case 0:t=document.querySelector("#workers").value,this.orgName=t;case 2:case"end":return e.stop()}}),e,this)})));function t(){return e.apply(this,arguments)}return t}(),getList:function(){var e=hn(d.a.mark((function e(){var t,n,r;return d.a.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return null===this.eosio&&(this.eosio=new M("university","unicontract2")),e.next=3,this.eosio.getOrganizations();case 3:for(n in t=e.sent,t)r=document.createElement("option"),r.value=t[n].key,r.text=t[n].key,document.querySelector("#workers").appendChild(r);case 5:case"end":return e.stop()}}),e,this)})));function t(){return e.apply(this,arguments)}return t}(),emailOTP:function(){var e=hn(d.a.mark((function e(){var t,n,r,o,i,a,s;return d.a.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return document.querySelector("#red").style.display="none",t=document.querySelector("#workers").value,this.orgName=t,e.prev=3,null===this.eosio&&(this.eosio=new M("onboarding","empcontract2")),e.next=7,this.eosio.connect();case 7:if(e.sent){e.next=9;break}return e.abrupt("return",console.log("Failed to get Scatter account"));case 9:for(i in n=this.email,r=!1,o="",n)r&&(o+=n[i]),"@"===n[i]&&(r=!0);return e.next=15,this.eosio.getDomain(this.orgName);case 15:if(a=e.sent,o!==a){e.next=24;break}return s="http://localhost:3000/send?to="+this.email+"&org="+this.orgName+"&account="+this.userName,console.log(s),e.next=21,fetch(s);case 21:console.log("Fetched"),e.next=25;break;case 24:document.querySelector("#red").style.display="inline";case 25:e.next=29;break;case 27:e.prev=27,e.t0=e["catch"](3);case 29:case"end":return e.stop()}}),e,this,[[3,27]])})));function t(){return e.apply(this,arguments)}return t}()}},mn=vn,yn=(n("c955"),Object(m["a"])(mn,dn,pn,!1,null,null,null)),bn=yn.exports;r["default"].use(_["a"]);var wn=new _["a"]({mode:"history",base:"/apodeixi/",routes:[{path:"/login",name:"login",component:te},{path:"/",name:"first",component:Fe},{path:"/home",name:"home",component:Re},{path:"/request",name:"request",component:Je},{path:"/validate",name:"validate",component:et},{path:"/workerview",name:"workerview",component:St},{path:"/individual",name:"individual",component:Nt},{path:"/pending",name:"pending",component:Gt},{path:"/present",name:"present",component:ln},{path:"/verify",name:"verify",component:bn}]}),xn=n("2f62"),gn=n("0e44");r["default"].use(xn["a"]);var kn=new xn["a"].Store({plugins:[Object(gn["a"])({storage:window.sessionStorage})],state:{loggedIn:!1,identity:""},mutations:{loginStatus:function(e,t){e.loggedIn=t},Identity:function(e,t){e.identity=t}},getters:{loggedIn:function(e){return e.loggedIn},actor:function(e){return e.identity}},actions:{}}),_n=n("5f5b");n("f9e3"),n("2dd8");r["default"].use(_n["a"]),r["default"].config.productionTip=!1,new r["default"]({router:wn,store:kn,render:function(e){return e(k)}}).$mount("#app")},6:function(e,t){},"674c":function(e,t,n){},"6e02":function(e,t,n){"use strict";var r=n("a509"),o=n.n(r);o.a},7:function(e,t){},7518:function(e,t,n){e.exports=n.p+"img/employee.47fd8d4b.jpg"},8:function(e,t){},"86ce":function(e,t,n){},"8fa5":function(e,t,n){},9:function(e,t){},"996f":function(e,t,n){"use strict";var r=n("1e4b"),o=n.n(r);o.a},"9bfd":function(e,t,n){"use strict";var r=n("8fa5"),o=n.n(r);o.a},"9d0f":function(e,t,n){},a1e9:function(e,t,n){},a509:function(e,t,n){},a9e7:function(e,t,n){},b20e:function(e,t,n){"use strict";var r=n("86ce"),o=n.n(r);o.a},c955:function(e,t,n){"use strict";var r=n("674c"),o=n.n(r);o.a},ca11:function(e,t,n){"use strict";var r=n("38bb"),o=n.n(r);o.a},d6db:function(e,t,n){"use strict";var r=n("a9e7"),o=n.n(r);o.a},e825:function(e,t,n){},eb60:function(e,t,n){"use strict";var r=n("243c"),o=n.n(r);o.a},f17c:function(e,t,n){"use strict";var r=n("23ee"),o=n.n(r);o.a},ff8b:function(e,t,n){"use strict";var r=n("9d0f"),o=n.n(r);o.a}});
//# sourceMappingURL=app.58c4a43f.js.map